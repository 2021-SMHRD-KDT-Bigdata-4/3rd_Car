<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.car.mapper.CMapper">
    
    <select id="loginFunction"  resultType="kr.car.domain.MembersVO">
	 select * from members where member_id= #{member_id} and password = #{password}
	</select>
	
   <select id="drivingList" resultType="drivingVO">
        select * from drivings 
    </select>
    
    <select id="restsList" resultType="restsVO">
        select * from rests
    </select>
    
    <insert id="dstart" parameterType="membersVO">
      insert into drivings(driving_starttime,member_id) values(now(),#{member_id}) where memberid=#{memberid};     
    </insert>
    
    <update id="dend" parameterType="membersVO">
	 update drivings set driving_endtime = now() where driving_endtime is null;
	</update>
    
</mapper>
